---
title: Wealth Inequality in Baltimore City and Baltimore County
author: Olivia Borgula
date: 02/29/2024
---

**INTRODUCTION**
Baltimore County and Baltimore City are considered separate jurisdictions despite once being the same. While Baltimore City was once majority white in the 1960s, white flight out of the city and into what is now Baltimore County left the city with economic instability. But gentrification starting in the 2010s has led to an increase in white people in Baltimore City. How has this impacted wealth inequality in the two areas? 

First, load libraries, turn off scientific notation and upload datasets
```{r}
#load libraries
library(tidyverse)
library(janitor)
library(formattable)

#turn off scientific notation
options(scipen=999)

#upload datasets 

medians_2012_2022 <- read_csv("/Users/oliviaborgula/Documents/GitHub/olivia_borgula_jour472/data-notebook/data/medians_2012_2022.csv")

poverty_status_2 <- read_csv("/Users/oliviaborgula/Documents/GitHub/olivia_borgula_jour472/poverty_33.csv")

poverty_race <- read_csv("/Users/oliviaborgula/Documents/GitHub/olivia_borgula_jour472/poverty_race_7.csv")
```

**Part 1**

What was the median household income in Baltimore City, Baltimore County and Maryland in 2022?
```{r}
#create a pivot table displaying the median household income in each location for 2022
med_summary <- medians_2012_2022 %>%
  filter(year %in% c("2022"))

View(med_summary)

#Findings for 2022 median household income:
#Baltimore City: $55,198
#Baltimore County: $86,526
#Maryland: $94,991
```

Find the percent change in median household income from 2012 to 2022 in Baltimore County vs. Baltimore City

```{r}
#First make a pivot table to more easily identify values
decade_values <- medians_2012_2022 %>% 
  filter(year %in% c("2022", "2012"))

#Find percent change for Baltimore City between 2012 and 2022
percent((55198 - 39241)/39241)

#Find percent change for Baltimore County between 2012 and 2022
percent((86526 - 62444)/62444)

#Percent change

```


Visualize the median household income in Baltimore City and Baltimore County over that same time period

```{r}
ggplot(medians_2012_2022, aes(x=year)) +
  geom_line(aes(y=balt_city), color = "blue", show.legend = TRUE) +
  geom_line(aes(y=balt_county), color = "green")+
  geom_line(aes(y=maryland), color = "red")+
  labs(title = "Median Household Income from 2012-2022", 
       caption = "Source: U.S. Census Bureau",
       y="Income",
       x="Year")
```

How many people have poverty status (are below the poverty line) in Baltimore City, Baltimore County and Maryland?
```{r}
#Create a pivot table and filter out values from large census dataset
poverty_number <- poverty_status_2 %>%
  select(`Label (Grouping)`, `Maryland!!Below poverty level!!Estimate`, `Baltimore County, Maryland!!Below poverty level!!Estimate`, `Baltimore city, Maryland!!Below poverty level!!Estimate`)%>%
  filter(`Label (Grouping)` %in% c("Population for whom poverty status is determined"))
View(poverty_number)

#Findings:
#Maryland: 618,372 people
#Baltimore County: 81,052 people
#Baltimore City: 127,135 people
```

Make a pivot table with the percent of people below the poverty line in 2022 compared to their total population for each location
```{r}
poverty_pct <- poverty_status_2 %>%
  select(`Label (Grouping)`, `Maryland!!Percent below poverty level!!Estimate`, `Baltimore city, Maryland!!Percent below poverty level!!Estimate`, `Baltimore County, Maryland!!Percent below poverty level!!Estimate`)%>%
  filter(`Label (Grouping)` %in% c("Population for whom poverty status is determined"))
View(poverty_pct)
```

Reorder columns and rows to make it easier to create bar graph
```{r}
# Reshape the data
reshaped_pct <- gather(poverty_pct, key = "Location", value = "Percent", -1)
reshaped_pct <- reshaped_pct[, -1]
View(reshaped_pct)
```

Visualize this data
```{r}
reshaped_pct %>%
  ggplot() +
  geom_col(aes(x = Location, y = Percent)) +
  theme_minimal() +
  labs(
    title = "Percent of Population Below Poverty Line in Baltimore City, Baltimore County, and Maryland",
    x = "Location",
    y = "Percent",
    caption = "Source: U.S. Census Bureau"
  )
```
Add a column showing the percentage below the poverty line compared to total population in 2022 by race for each place 
```{r}
poverty_race[is.na(poverty_race)] <- 0

poverty_race <- poverty_race %>%
  mutate(pct_md = percent(md_poverty/md_total))%>%
  mutate(pct_baltcounty = percent(baltcounty_poverty/baltcounty_total))%>%
  mutate(pct_baltcity = percent(baltcity_poverty/baltcounty_total))
  
```

**Conclusion**
Baltimore County's median household income has been consistently higher than Baltimore City's median household income in the 10 years from 2012 to 2022. While Baltimore County's median household income has been comparable to the state of Maryland, Baltimore City is significantly less than both values. In 2022, Baltimore County had a median household income of $86,526 and Maryland had a median household income of $94,991. Baltimore City, on the other hand, had a median household income of $55,198. Baltimore City also had a higher proportion of people below the poverty line compared to Maryland and Baltimore County, with individuals who identify as Black or African American constituting the largest percent of people below the poverty line by race. Around 37% of Black or African American people are below the poverty line, according to data from the U.S. Census Bureau. In Baltimore County and Maryland, however, those who listed two or more other races or those who identified as Hispanic or Latino, were the highest percent of people below the poverty line by race, respectively.
